<!DOCTYPE html>
<html>

<head>
  
  <title>数据库sql语句 - 柒</title>
  <meta charset="UTF-8">
  <meta name="description" content="生如夏花之灿烂，死如秋叶之静美。">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  
  

  <link rel="shortcut icon" href="/favicon.ico" type="image/png" />
  <meta name="description" content="sql基础">
<meta name="keywords" content="sql">
<meta property="og:type" content="article">
<meta property="og:title" content="数据库sql语句">
<meta property="og:url" content="https:&#x2F;&#x2F;s-04.github.io&#x2F;posts&#x2F;14818.html">
<meta property="og:site_name" content="柒">
<meta property="og:description" content="sql基础">
<meta property="og:locale" content="zh-CN">
<meta property="og:updated_time" content="2019-11-14T00:09:47.640Z">
<meta name="twitter:card" content="summary">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/mdui@0.4.3/dist/css/mdui.min.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@9.15.8/styles/atom-one-dark.css">
   
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.css" />
  
  
  <link rel="stylesheet" href="//at.alicdn.com/t/font_1038733_0xvrvpg9c0r.css">
  <link rel="stylesheet" href="/css/style.css?v=1718971493092">
  <!-- 《页面点击小红心 -->
  
  <!-- 页面点击小红心》 -->
  
<style>.darkmode--activated{--body-bg-color:#282828;--content-bg-color:#333;--card-bg-color:#555;--text-color:#ccc;--blockquote-color:#bbb;--link-color:#ccc;--link-hover-color:#eee;--brand-color:#ddd;--brand-hover-color:#ddd;--table-row-odd-bg-color:#282828;--table-row-hover-bg-color:#363636;--menu-item-bg-color:#555;--btn-default-bg:#222;--btn-default-color:#ccc;--btn-default-border-color:#555;--btn-default-hover-bg:#666;--btn-default-hover-color:#ccc;--btn-default-hover-border-color:#666;--highlight-background:#282b2e;--highlight-foreground:#a9b7c6;--highlight-gutter-background:#34393d;--highlight-gutter-foreground:#9ca9b6}.darkmode--activated img{opacity:.75}.darkmode--activated img:hover{opacity:.9}.darkmode--activated code{color:#69dbdc;background:0 0}button.darkmode-toggle{z-index:9999}.darkmode-ignore,img{display:flex!important}.beian img{display:inline-block!important}</style></head>

<body class="mdui-drawer-body-left">
  
  <div id="nexmoe-background">
    <div class="nexmoe-bg" style="background-image: url(https://cdn.jsdelivr.net/gh/S-04/Figurebed/img/any.png)"></div>
    <div class="mdui-appbar mdui-shadow-0">
      <div class="mdui-toolbar">
        <a mdui-drawer="{target: '#drawer', swipe: true}" title="menu" class="mdui-btn mdui-btn-icon"><i class="mdui-icon material-icons">menu</i></a>
        <div class="mdui-toolbar-spacer"></div>
        <!--<a href="javascript:;" target="_blank" rel="noopener" class="mdui-btn mdui-btn-icon"><i class="mdui-icon material-icons">search</i></a>-->
        <a href="/" title="柒" class="mdui-btn mdui-btn-icon"><img src="/images/avatar.png"></a>
       </div>
    </div>
  </div>
  <div id="nexmoe-header">
      <div class="nexmoe-drawer mdui-drawer" id="drawer">
    <div class="nexmoe-avatar mdui-ripple">
        <a href="/" title="柒">
            <img src="/images/avatar.png" alt="柒">
        </a>
    </div>
    <div class="nexmoe-count">
        <div><span>文章</span>14</div>
        <div><span>标签</span>8</div>
        <div><span>分类</span>0</div>
    </div>
    <ul class="nexmoe-list mdui-list" mdui-collapse="{accordion: true}">
        
        <a class="nexmoe-list-item mdui-list-item mdui-ripple" href="/" title="回到首页">
            <i class="mdui-list-item-icon nexmoefont icon-home"></i>
            <div class="mdui-list-item-content">
                回到首页
            </div>
        </a>
        
        <a class="nexmoe-list-item mdui-list-item mdui-ripple" href="/about.html" title="关于博客">
            <i class="mdui-list-item-icon nexmoefont icon-info-circle"></i>
            <div class="mdui-list-item-content">
                关于博客
            </div>
        </a>
        
        <a class="nexmoe-list-item mdui-list-item mdui-ripple" href="/PY.html" title="我的朋友">
            <i class="mdui-list-item-icon nexmoefont icon-unorderedlist"></i>
            <div class="mdui-list-item-content">
                我的朋友
            </div>
        </a>
        
    </ul>
    <aside id="nexmoe-sidebar">
  
  <div class="nexmoe-widget-wrap">
    <h3 class="nexmoe-widget-title">社交按钮</h3>
    <div class="nexmoe-widget nexmoe-social">
        <a class="mdui-ripple" href="https://space.bilibili.com/7610547" target="_blank" mdui-tooltip="{content: '哔哩哔哩'}" style="color: rgb(231, 106, 141);background-color: rgba(231, 106, 141, .15);">
            <i class="nexmoefont icon-bilibili"></i>
        </a>
    </div>
</div>
  
  

  
  
  <div class="nexmoe-widget-wrap">
    <h3 class="nexmoe-widget-title">标签云</h3>
    <div id="randomtagcloud" class="nexmoe-widget tagcloud">
      <a href="/tags/Jmeter/" style="font-size: 10px;">Jmeter</a> <a href="/tags/cpe/" style="font-size: 10px;">cpe</a> <a href="/tags/hexo/" style="font-size: 20px;">hexo</a> <a href="/tags/markdown/" style="font-size: 10px;">markdown</a> <a href="/tags/python/" style="font-size: 10px;">python</a> <a href="/tags/sql/" style="font-size: 10px;">sql</a> <a href="/tags/%E5%8A%A8%E6%BC%AB/" style="font-size: 10px;">动漫</a> <a href="/tags/%E6%89%8B%E6%9C%BA/" style="font-size: 15px;">手机</a>
    </div>
    
  </div>

  
  
  <div class="nexmoe-widget-wrap">
    <h3 class="nexmoe-widget-title">文章归档</h3>
    <div class="nexmoe-widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2024/06/">六月 2024</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/03/">三月 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/01/">一月 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/11/">十一月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/09/">九月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/08/">八月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/07/">七月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/03/">三月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/12/">十二月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/07/">七月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/06/">六月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/05/">五月 2019</a></li></ul>
    </div>
  </div>


  
</aside>
    <div class="nexmoe-copyright">
        &copy; 2024 柒
         <a href='' target="_blank"></a>
         <a href='' target="_blank"></a>
    </div>
</div><!-- .nexmoe-drawer -->                      
  </div>
  <div id="nexmoe-content">
    <div class="nexmoe-primary">
        <div class="nexmoe-post">
    <div class="nexmoe-post-cover"> 
        
            <img src="https://cdn.jsdelivr.net/gh/S-04/Figurebed/img/any.png">
        
        <h1>数据库sql语句</h1>
    </div>
  <div class="nexmoe-post-meta">
    <a><i class="nexmoefont icon-calendar-fill"></i>2019年06月02日</a>
    <a><i class="nexmoefont icon-areachart"></i>1.1k 字</a>
    <a><i class="nexmoefont icon-time-circle-fill"></i>大概 5 分钟</a>
    
    
      <a class="nexmoefont icon-tag-fill -link" href="/tags/sql/" rel="tag">sql</a>
    
  </div>
  <article>
    <p>sql基础</p>
<a id="more"></a>
<h3 id="数据库基础"><a href="#数据库基础" class="headerlink" title="数据库基础"></a>数据库基础</h3><hr>
<h3 id="数据库连接工具"><a href="#数据库连接工具" class="headerlink" title="数据库连接工具"></a>数据库连接工具</h3><p>1.plsql developer<br>2.Navicat</p>
<h3 id="数据库的6大约束条件"><a href="#数据库的6大约束条件" class="headerlink" title="数据库的6大约束条件"></a>数据库的6大约束条件</h3><p>1.主键 primary key<br>2.唯一 unique<br>3.非空 not null<br>4.检查 check<br>5.默认 default （放在其他约束条件的最左边）<br>6.外键 references</p>
<hr>
<h3 id="DDL-语句-Data-Definition-Language-对数据库的表格进行修改"><a href="#DDL-语句-Data-Definition-Language-对数据库的表格进行修改" class="headerlink" title="DDL 语句 Data Definition Language  (对数据库的表格进行修改)"></a>DDL 语句 Data Definition Language  (对数据库的表格进行修改)</h3><hr>
<ul>
<li><strong><em>对表</em></strong></li>
</ul>
<hr>
<p><strong>增</strong>：</p>
<p>1.创建表：</p>
<blockquote>
<p>create table 表名（<br> 列名1 数据类型  [约束条件]，<br> 列名2 数据类型  [约束条件]<br>）</p>
<blockquote>
<p>2复制表：create table 新表名 as select * from 表名</p>
</blockquote>
</blockquote>
<hr>
<p><strong>删</strong>：</p>
<p>1.drop table 表名</p>
<hr>
<p><strong>改</strong>：</p>
<p>1.rename 表名 to 新表名</p>
<hr>
<p><strong><em>对列名</em></strong>：</p>
<hr>
<p><strong>增</strong>：</p>
<p>1.alter table 表名 add（列名1 数据类型 [约束条件] , 列名2 数据类型 [约束条件] ）；</p>
<hr>
<p><strong>删</strong>：</p>
<p>1.alter table 表名 drop column 列名；</p>
<hr>
<p><strong>改</strong>：</p>
<p><em>列名数据类型的改</em>: 1.alter table 表名 modify （列名1  新数据类型[约束条件] ，列名2  新数据类型[约束条件]）</p>
<p><em>列名的改</em>: 1.alter table 表名 rename column 列名 to 新列名</p>
<hr>
<h3 id="DML语句-Data-Manipulation-Language"><a href="#DML语句-Data-Manipulation-Language" class="headerlink" title="DML语句 Data Manipulation Language"></a>DML语句 Data Manipulation Language</h3><hr>
<p><strong>增</strong>：</p>
<p>1.insert into 表名 values （值1，值2，….）</p>
<blockquote>
<p>1.insert into 表名(列名1，列名2) values （值1，值2）</p>
</blockquote>
<blockquote>
<p>2.特殊情况（插入子查询）：insert into 表名 select * from 表名1</p>
</blockquote>
<hr>
<p><strong>删</strong>：</p>
<p>1.delete from 表名 where 条件；</p>
<blockquote>
<p>1.delete from 表名；</p>
</blockquote>
<hr>
<p><strong>改</strong>：</p>
<p>1.update  表名  set 列名1=新值1  where 条件；</p>
<hr>
<p><strong>查</strong>：</p>
<p>1.select * from 表名；</p>
<blockquote>
<p>1.select * from 表名 where 1=1；</p>
</blockquote>
<hr>
<h3 id="数据库sql的进阶"><a href="#数据库sql的进阶" class="headerlink" title="数据库sql的进阶"></a>数据库sql的进阶</h3><hr>
<p>1.delete、truncate区别：truncate全部清空（表头还在），不发起事务，没有回滚,属于DDL语句。</p>
<blockquote>
<p>drop:指删除表</p>
</blockquote>
<hr>
<p>2.会发起事务的语句只有DML的insert、delete、update。只有他们有提交回滚的机会。</p>
<hr>
<p>3.select语句基本原则：select一定是最后执行</p>
<hr>
<p>4.分组函数（多行函数）</p>
<blockquote>
<p>1.count(*)：计算表中的全部行数，包括重复行和空行</p>
</blockquote>
<blockquote>
<p>2.sum(字段名)：计算指定字段的总和</p>
</blockquote>
<blockquote>
<p>3.avg(字段名)：计算指定字段的平均值 </p>
</blockquote>
<blockquote>
<p>4.min(字段名)：计算指定字段的最小值</p>
</blockquote>
<blockquote>
<p>5.max(字段名)：计算指定字段的最大值</p>
</blockquote>
<hr>
<p>5.多表连接:</p>
<hr>
<p>1.内连接:</p>
<hr>
<p>1.等值连接：</p>
<blockquote>
<p>1.from emp e,dept d where  e.deptno=d.deptno</p>
</blockquote>
<blockquote>
<blockquote>
<p>1.三张表的关联： from emp e,dept d,xx x where  e.deptno=d.deptno and d.deptno=x.deptno</p>
</blockquote>
</blockquote>
<blockquote>
<p>2.from emp e inner join dept d on e.deptno=d.deptno</p>
</blockquote>
<blockquote>
<blockquote>
<p>1.三张表的关联： from emp e inner join dept d on e.deptno=d.deptno inner join xx x on d.deptno=x.deptno  where</p>
</blockquote>
</blockquote>
<hr>
<p>2.外连接:</p>
<p>1.左连接（左表数据全部显示，即使没有被匹配到）：from dept d left join emp e on d.deptno=e.deptno</p>
<blockquote>
<p>1.三张表的关联： from dept d left join emp e on e.deptno=d.deptno left join xx x on d.deptno=x.deptno</p>
</blockquote>
<p>1.右连接（右表数据全部显示，即使没有被匹配到）：from emp e right join dept d on d.deptno=e.deptno</p>
<blockquote>
<p>1.三张表的关联： from dept d right join emp e on e.deptno=d.deptno right join xx x on d.deptno=x.deptno</p>
</blockquote>
<hr>
<p>6.decode函数的高级应用（用法形式类似oracle分页查询）</p>
<blockquote>
<p>1.利用decode函数临时增加列名</p>
</blockquote>
<blockquote>
<p>2.对decode函数取别名</p>
</blockquote>
<blockquote>
<p>3.利用子查询</p>
</blockquote>
<hr>
<p>7直接修改数据：select * from emp1 for update;</p>
<hr>
<h3 id="SQL语句细节"><a href="#SQL语句细节" class="headerlink" title="SQL语句细节"></a>SQL语句细节</h3><hr>
<p>1.分组原则：select 后面的列名和having及order by后面的列名必须是group by后面列名的子列名（分组函数除外）</p>
<blockquote>
<p>思考 select e.empno， count(*)  from emp e;</p>
</blockquote>
<p>2.库表值的同行比较原则</p>
<p>3.group by后面只能是普通列名，分组函数不能出现在where的字句和group by的字句</p>
<p>4.decode函数的应用：利用decode，对decode取别名，子查询，一共3点</p>
<p>5.oracle分页查询：利用rownum，对rownum取别名，子查询，一共3点</p>
<p>6.最长select语句结构:</p>
<pre><code>select 列1,列2,列3...列N 或 *
from 表名
[where 过滤条件]
[group by 分组内容]
[having 组内条件]
[order by 排序方式]</code></pre><ul>
<li><p>sql技巧:</p>
<ol>
<li>两个原则：1 分组原则；2 值的同行比较原则</li>
<li>关联或者子查询</li>
</ol>
</li>
<li><p>分页：<br>  SELECT * FROM student LIMIT 4,2; </p>
</li>
<li><p>日期函数<br>  SELECT DATE_FORMAT(NOW(),’%Y-%m-%d %H:%i:%s’);<br>  SELECT TIME_FORMAT(NOW(),’%H:%i:%s’);</p>
</li>
<li><p>mysql的存储过程</p>
</li>
<li><p>需求： 输入一个整数，求和。例如，输入100，统计1-100的和</p>
</li>
</ul>
<p><code>DELIMITER $</code><br><code>CREATE PROCEDURE pro_testWhile(IN num INT,OUT result INT)</code><br><code>BEGIN</code><br>    <code>-- 定义一个局部变量</code><br>    <code>DECLARE i INT DEFAULT 1;</code><br>    <code>DECLARE vsum INT DEFAULT 0;</code><br>    <code>WHILE i&lt;=num DO</code><br>          <code>SET vsum = vsum+i;</code><br>         <code>SET i=i+1;</code><br>    <code>END WHILE;</code><br>    <code>SET result=vsum;</code><br><code>END $</code></p>
<p><code>--以下为调用语句，mysql默认的结束符（DELIMITER）为分号‘；’。定义存储过程需要定义结束符。</code><br><code>SET @n=10;</code><br><code>CALL pro_testWhile(@n,@result1);</code><br><code>SELECT @result1;</code></p>

  </article>
  
    
<div class="nexmoe-post-copyright">
<i class="mdui-list-item-icon nexmoefont icon-info-circle"></i>
<strong>本文作者：</strong>柒<br>
<strong>本文链接：</strong><a href="https://s-04.github.io/posts/14818.html" title="https:&#x2F;&#x2F;s-04.github.io&#x2F;posts&#x2F;14818.html" target="_blank" rel="noopener">https:&#x2F;&#x2F;s-04.github.io&#x2F;posts&#x2F;14818.html</a><br>

  <strong>版权声明：</strong>本文采用 <a href="https://creativecommons.org/licenses/by-nc-sa/3.0/cn/deed.zh" target="_blank">CC BY-NC-SA 3.0 CN</a> 协议进行许可

</div>


  
  <section class="nexmoe-comment">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/gitalk@1.5.0/dist/gitalk.min.css">
<div id="gitalk"></div>
<script src="https://cdn.jsdelivr.net/npm/gitalk@1.5.0/dist/gitalk.min.js"></script>
<script type="text/javascript">
    var gitalk = new Gitalk({
        clientID: '9345a34df46c36c1c647',
        clientSecret: 'c48859b3a20e7a78d28d54eefb676fcf8e81af00',
        id: window.location.pathname,
        repo: 'S-04.github.io',
        owner: 'S-04',
        admin: 'S-04'
    })
    gitalk.render('gitalk')
</script>
</section>
</div>
    </div>
  </div>
  <script src="https://cdn.jsdelivr.net/npm/mdui@0.4.3/dist/js/mdui.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/jquery@3.4.1/dist/jquery.min.js"></script>
 
    <script src="https://cdn.jsdelivr.net/gh/fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.js"></script>


 
    <script src="https://cdn.jsdelivr.net/npm/smoothscroll-for-websites@1.4.9/SmoothScroll.min.js"></script>


<script src="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@9.15.8/build/highlight.min.js"></script>
<script>hljs.initHighlightingOnLoad();</script>

<script src="/js/app.js?v=1718971493096"></script>
<script src="https://cdn.jsdelivr.net/npm/lazysizes@5.1.0/lazysizes.min.js"></script>


    <script type="text/javascript" src="https://cdn.jsdelivr.net/gh/xtaodada/xtaodada.github.io@0.0.2/copy.js"></script>



  





  <!-- 雪花特效2 -->
  
<!-- 樱花 -->
<script type="text/javascript" src="/js/sakura.js"></script>
<script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"model":{"jsonPath":"/live2dw/assets/T_33.model.json"},"display":{"position":"right","width":300,"height":700},"mobile":{"show":false},"log":false,"pluginJsPath":"lib/","pluginModelPath":"assets/","pluginRootPath":"live2dw/","tagMode":false});</script></body>

</html>
